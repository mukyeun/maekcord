const fs = require('fs');
const path = require('path');

// 81ë§¥ìƒ ëª©ë¡ (í•œì˜í•™ ë§¥ìƒ ë¶„ë¥˜ ê¸°ì¤€)
const pulseTypes = [
  // ë¶€ë§¥ ê³„ì—´ (1-20)
  "ë¶€ì‚­í™œì‹¤ë§¥", "ë¶€í™œì‚­ë§¥", "ë¶€ì‹¤ì‚­ë§¥", "ë¶€ì‚­ì§€ë§¥", "ë¶€í™œì§€ë§¥", 
  "ë¶€ì‹¤ì§€ë§¥", "ë¶€ì‚­í—ˆë§¥", "ë¶€í™œí—ˆë§¥", "ë¶€ì‹¤í—ˆë§¥", "ë¶€ì§€í—ˆë§¥",
  "ë¶€ì‚­í™œí—ˆë§¥", "ë¶€ì‚­ì‹¤í—ˆë§¥", "ë¶€í™œì‹¤í—ˆë§¥", "ë¶€ì‚­ì§€í—ˆë§¥", "ë¶€í™œì§€í—ˆë§¥",
  "ë¶€ì‹¤ì§€í—ˆë§¥", "ë¶€ì‚­í™œì‹¤ì§€ë§¥", "ë¶€ì‚­í™œì‹¤í—ˆë§¥", "ë¶€ì‚­í™œì§€í—ˆë§¥", "ë¶€ì‚­ì‹¤ì§€í—ˆë§¥",
  
  // ì¹¨ë§¥ ê³„ì—´ (21-40)
  "ì¹¨ì‚­í™œì‹¤ë§¥", "ì¹¨í™œì‚­ë§¥", "ì¹¨ì‹¤ì‚­ë§¥", "ì¹¨ì‚­ì§€ë§¥", "ì¹¨í™œì§€ë§¥",
  "ì¹¨ì‹¤ì§€ë§¥", "ì¹¨ì‚­í—ˆë§¥", "ì¹¨í™œí—ˆë§¥", "ì¹¨ì‹¤í—ˆë§¥", "ì¹¨ì§€í—ˆë§¥",
  "ì¹¨ì‚­í™œí—ˆë§¥", "ì¹¨ì‚­ì‹¤í—ˆë§¥", "ì¹¨í™œì‹¤í—ˆë§¥", "ì¹¨ì‚­ì§€í—ˆë§¥", "ì¹¨í™œì§€í—ˆë§¥",
  "ì¹¨ì‹¤ì§€í—ˆë§¥", "ì¹¨ì‚­í™œì‹¤ì§€ë§¥", "ì¹¨ì‚­í™œì‹¤í—ˆë§¥", "ì¹¨ì‚­í™œì§€í—ˆë§¥", "ì¹¨ì‚­ì‹¤ì§€í—ˆë§¥",
  
  // í˜„ë§¥ ê³„ì—´ (41-60)
  "í˜„ì‚­í™œì‹¤ë§¥", "í˜„í™œì‚­ë§¥", "í˜„ì‹¤ì‚­ë§¥", "í˜„ì‚­ì§€ë§¥", "í˜„í™œì§€ë§¥",
  "í˜„ì‹¤ì§€ë§¥", "í˜„ì‚­í—ˆë§¥", "í˜„í™œí—ˆë§¥", "í˜„ì‹¤í—ˆë§¥", "í˜„ì§€í—ˆë§¥",
  "í˜„ì‚­í™œí—ˆë§¥", "í˜„ì‚­ì‹¤í—ˆë§¥", "í˜„í™œì‹¤í—ˆë§¥", "í˜„ì‚­ì§€í—ˆë§¥", "í˜„í™œì§€í—ˆë§¥",
  "í˜„ì‹¤ì§€í—ˆë§¥", "í˜„ì‚­í™œì‹¤ì§€ë§¥", "í˜„ì‚­í™œì‹¤í—ˆë§¥", "í˜„ì‚­í™œì§€í—ˆë§¥", "í˜„ì‚­ì‹¤ì§€í—ˆë§¥",
  
  // ì™„ë§¥ ê³„ì—´ (61-81)
  "ì™„ì‚­í™œì‹¤ë§¥", "ì™„í™œì‚­ë§¥", "ì™„ì‹¤ì‚­ë§¥", "ì™„ì‚­ì§€ë§¥", "ì™„í™œì§€ë§¥",
  "ì™„ì‹¤ì§€ë§¥", "ì™„ì‚­í—ˆë§¥", "ì™„í™œí—ˆë§¥", "ì™„ì‹¤í—ˆë§ˆ", "ì™„ì§€í—ˆë§¥",
  "ì™„ì‚­í™œí—ˆë§¥", "ì™„ì‚­ì‹¤í—ˆë§¥", "ì™„í™œì‹¤í—ˆë§¥", "ì™„ì‚­ì§€í—ˆë§¥", "ì™„í™œì§€í—ˆë§¥",
  "ì™„ì‹¤ì§€í—ˆë§¥", "ì™„ì‚­í™œì‹¤ì§€ë§¥", "ì™„ì‚­í™œì‹¤í—ˆë§¥", "ì™„ì‚­í™œì§€í—ˆë§¥", "ì™„ì‚­ì‹¤ì§€í—ˆë§¥",
  "ì™„í™œì‹¤ì§€í—ˆë§¥"
];

// í•œìëª… ë§¤í•‘ (ì¼ë¶€ ì˜ˆì‹œ)
const hanjaMapping = {
  "ë¶€ì‚­í™œì‹¤ë§¥": "æµ®æ•¸æ»‘å¯¦è„ˆ",
  "ë¶€í™œì‚­ë§¥": "æµ®æ»‘æ•¸è„ˆ",
  "ì¹¨ì‚­í™œì‹¤ë§¥": "æ²ˆæ•¸æ»‘å¯¦è„ˆ",
  "í˜„ì‚­í™œì‹¤ë§¥": "å¼¦æ•¸æ»‘å¯¦è„ˆ",
  "ì™„ì‚­í™œì‹¤ë§¥": "ç·©æ•¸æ»‘å¯¦è„ˆ"
  // ë‚˜ë¨¸ì§€ëŠ” ë¹ˆ ë¬¸ìì—´ë¡œ ì‹œì‘
};

// JSON í…œí”Œë¦¿ ìƒì„± í•¨ìˆ˜
function generatePulseTemplate(pulseType, index) {
  const hanja = hanjaMapping[pulseType] || "";
  
  return {
    "pulseType": pulseType,
    "hanja": hanja,
    "physiology": {
      "PVC": "",
      "BV": "",
      "SV": "",
      "HR": ""
    },
    "origin": [],
    "effects": [],
    "relatedDiseases": [],
    "systemicImpacts": {
      "cardiovascular": [],
      "respiratory": [],
      "renal": [],
      "musculoskeletal": [],
      "dermatologic": [],
      "ophthalmologic": [],
      "gastrointestinal": [],
      "neurological": []
    },
    "notes": "",
    "references": []
  };
}

// í…œí”Œë¦¿ ë””ë ‰í† ë¦¬ ìƒì„±
const templateDir = './pulse_templates';
if (!fs.existsSync(templateDir)) {
  fs.mkdirSync(templateDir);
}

// 81ê°œ JSON íŒŒì¼ ìƒì„±
pulseTypes.forEach((pulseType, index) => {
  const template = generatePulseTemplate(pulseType, index + 1);
  const filename = `pulse_${String(index + 1).padStart(3, '0')}_${pulseType}.json`;
  const filepath = path.join(templateDir, filename);
  
  fs.writeFileSync(filepath, JSON.stringify(template, null, 2), 'utf8');
  console.log(`âœ… ìƒì„±ë¨: ${filename}`);
});

// í†µí•© JSON íŒŒì¼ë„ ìƒì„±
const allPulses = pulseTypes.map((pulseType, index) => {
  return {
    id: index + 1,
    ...generatePulseTemplate(pulseType, index + 1)
  };
});

fs.writeFileSync(
  path.join(templateDir, 'all_pulses.json'), 
  JSON.stringify(allPulses, null, 2), 
  'utf8'
);

console.log(`\nğŸ‰ ì™„ë£Œ! ì´ ${pulseTypes.length}ê°œì˜ ë§¥ìƒ í…œí”Œë¦¿ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
console.log(`ğŸ“ ìœ„ì¹˜: ${templateDir}/`);
console.log(`ğŸ“„ ê°œë³„ íŒŒì¼: pulse_001.json ~ pulse_081.json`);
console.log(`ğŸ“„ í†µí•© íŒŒì¼: all_pulses.json`); 